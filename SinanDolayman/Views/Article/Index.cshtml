@using PagedList;
@using PagedList.Mvc;
@model PagedList<SinanDolayman.Models.ArticleIndexViewModel>
@using SinanDolayman.Helpers;

<br />
@{
    ViewBag.Title = "Makaleler";
}

<style>

    .base img {
        height: 210px;
    }

    .cover img {
        object-fit: cover;
    }
    /*.scale-down img {
        object-fit: scale-down;
    }*/
</style>

@{
    foreach (var item in Model)
    {
        @*<div class="carousel-item">
                <img src="@item.CoverImage" class="d-block w-100" height="500" alt="...">

                <div class="carousel-caption d-none d-md-block">
                    <a><h5>@item.Title</h5></a>
                    <p>@item.Summary</p>
                </div>
            </div>*@
    }
}


@foreach (var makale in Model)
{
    <div style="border:none" class="card mb-3">
        <div class="row no-gutters">
            <div class="col-md-4">
                @*<a href="@Url.Action("Details","Article",new {id=makale.GenerateSlug() })">
                    <img src="@makale.CoverImage" class="card-img" height="210" width="240" alt="...">
                </a>*@
                <section class="base cover">
                    <a href="@Url.Action("Details","Article",new {id=makale.GenerateSlug() })">
                        <img src="@makale.CoverImage" class="card-img" alt="...">
                    </a>                    
                </section>  
            </div>
            <div class="col-md-8">
                <div class="card-body p-2">
                    <a href="@Url.Action("Details","Article",new {id=makale.GenerateSlug() })"><h6 style="color:black" class="card-title">@makale.Title</h6></a>
                    <p class="card-text">@makale.Summary.SubNullable(0, 120)...</p>
                    <a type="submit" id="detayButonu" class="btn btn-outline-success my-2 my-sm-0" href="@Url.Action("Details","Article", new {id=makale.GenerateSlug() })"> Devamı...</a>
                </div>
            </div>
        </div>
    </div>

}

@Html.PagedListPager((IPagedList)Model, page => Url.Action("Index", new { searchTerm = ViewBag.Search, page }))
